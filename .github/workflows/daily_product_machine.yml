name: Gumroad_Final_Victory_2026
on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Create Product via Personal Token
        run: |
          # ‡§Ö‡§∏‡§ø‡§∏‡•ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡•á ‡§Æ‡•Å‡§§‡§æ‡§¨‡§ø‡§ï: access_token ‡§ï‡•ã ‡§∏‡•Ä‡§ß‡•á -d (‡§°‡•á‡§ü‡§æ) ‡§Æ‡•á‡§Ç ‡§≠‡•á‡§ú‡§®‡§æ ‡§π‡•à
          # ‡§î‡§∞ 'name' ‡§î‡§∞ 'price_cents' ‡§ï‡§æ ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§∞‡§®‡§æ ‡§π‡•à
          RESPONSE=$(curl -s -X POST "https://api.gumroad.com/v2/products" \
            -d "access_token=${{ secrets.GUMROAD_TOKEN }}" \
            -d "name=Victory_Product_$(date +%H%M)" \
            -d "price_cents=1000" \
            -d "description=Product created via verified assistant method" \
            -d "published=true")

          echo "Response: $RESPONSE"

          # ‡§ü‡•á‡§≤‡•Ä‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§™‡§∞ ‡§∏‡§æ‡§´ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü
          if [[ $RESPONSE == *"\"success\":true"* ]]; then
             MSG="‚úÖ ‡§Ö‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø! ‡§Ö‡§∏‡§ø‡§∏‡•ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡§æ ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§ó‡§Ø‡§æ‡•§ ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§≤‡§æ‡§á‡§µ ‡§π‡•à!"
          else
             # ‡§Ö‡§ó‡§∞ ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§ ‡§π‡•ã ‡§§‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§≠‡•á‡§ú‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§π‡§Æ ‡§¶‡•á‡§ñ ‡§∏‡§ï‡•á‡§Ç
             CLEAN=$(echo $RESPONSE | head -c 100)
             MSG="üìä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü: $CLEAN"
          fi

          curl -s -X POST "https://api.telegram.org/bot${{ secrets.TELEGRAM_TOKEN }}/sendMessage" \
          -d chat_id="${{ secrets.TELEGRAM_CHAT_ID }}" \
          -d text="$MSG"
